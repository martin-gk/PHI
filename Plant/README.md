# Plant

## Hardware

- Arduino IOT Carrier
- Arduino MKR WIFI 1010
- Capacitive Soil Moisture Sensor v1.2

## First Step

We will be building this part of the project within the Arduino environment and with the Arduino IOT Cloud, so you will need to create an account on [arduino.cc](https://www.arduino.cc/).

After you have your account registered you need to connect the Arduino MKR WIFI 1010 onto the IOT Carrier.
![assembly](/img/assembly.png)[^1]
[^1]: Image taken from https://opla.arduino.cc/opla/module/carrier/lesson/discovering-the-mkr-iot-carrier
<br>

Please visit the [opl√† kit website](https://opla.arduino.cc/opla/module/carrier/lesson/discovering-the-mkr-iot-carrier) for an in depth tutorial.

## Connecting to your computer

In order to be able to upload your first sketch onto your board, you will need to connect your board via USB to your computer.
You will need to download the [Arduino Create Agent](https://create.arduino.cc/getting-started/plugin/welcome) in order to recognize the Arduino boards and to read and write data from serial monitor.

You should be able to just use the Arduino Browser IDE but I also recommend downloading the standalone IDE. <br>
For example if you need to update the firmware, this will need to be done in the standalone IDE. <br>

## Adding your hardware to the Arduino IoT cloud

This step will be covered in the cloud subsection of the project so please refer to it.

## Code

The complete code is in this directory, everything of importance has been commented.
With your carrier connected via USB upload the sketch onto it. <br>
Once you have uploaded for the first time, the carrier supports Over the air uploads. <br>
This means you don't need to plug it in for updates, its enough to be in the same WiFi network.
<br>
Please don't forget that you will also need the thingProperties.h and the arduino_secrets.h generated by the arduino cloud in the <br> same directory for the project to work.

## Troubleshooting

If you get this error while trying to install your board to the cloud

```
MkrWifi1010 cannot connect to cloud
ArduinoIoTCloudTCP::handle_ConnectMqttBroker could not connect to mqtts-sa.iot.arduino.cc:8883
```

The firmware on your board is not up to date. <br>
Please refer to the following instruction to update the firmware. Be aware that you will need the freely available <br>
Arduino IDE for this step. <br>

- [Update MKR WiFi1010 Firmware guide](https://www.arduino.cc/en/Tutorial/WiFiNINA-FirmwareUpdater)
